import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import NumberInput from './NumberInput';
const fmt0 = (n) => n === undefined || Number.isNaN(n)
    ? '-'
    : n.toLocaleString('th-TH', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
export default function DirectorPlanCard({ d, index, onChange, payYears = 7 }) {
    const sex = d.sex === 'female' ? 'female' : 'male';
    const age = typeof d.age === 'number' ? d.age : 35;
    const sumAssured = typeof d.sumAssured === 'number' ? d.sumAssured : 10000000;
    const yearlyPremium = typeof d.personalInsurancePremium === 'number' ? d.personalInsurancePremium : 200000;
    const baseIncome = typeof d.annualSalary === 'number' ? d.annualSalary : 2400000;
    const surrY7 = d.surrenderY7;
    const surrAge60 = d.surrenderAge60;
    const surrAge70 = d.surrenderAge70;
    const surrAge99 = d.surrenderAge99;
    // header mini KPIs
    const accum7 = (yearlyPremium || 0) * payYears;
    return (_jsxs("div", { className: "rounded-2xl border border-white/10 bg-gradient-to-b from-white/[0.06] to-white/[0.03] p-5 shadow-[0_6px_24px_rgba(0,0,0,0.25)]", children: [_jsxs("div", { className: "flex flex-wrap items-start gap-3", children: [_jsxs("div", { className: "mr-auto", children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)]", children: "\u0E01\u0E23\u0E23\u0E21\u0E01\u0E32\u0E23:" }), _jsx("input", { className: "mt-1 w-[18rem] max-w-full rounded-xl bg-white/5 px-3 py-2 ring-1 ring-white/10 outline-none focus:ring-gold/60", value: d.name || `ผู้บริหาร ${index + 1}`, onChange: (e) => onChange(d.id, { name: e.target.value }), placeholder: "\u0E0A\u0E37\u0E48\u0E2D/\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07" })] }), _jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-2 w-full md:w-auto", children: [_jsx(Kpi, { label: "\u0E2D\u0E32\u0E22\u0E38", value: `${age} ปี` }), _jsx(Kpi, { label: "\u0E40\u0E1E\u0E28", value: sex === 'male' ? 'ชาย' : 'หญิง' }), _jsx(Kpi, { label: "\u0E40\u0E07\u0E34\u0E19\u0E44\u0E14\u0E49 \u0E21.40(1) (\u0E1B\u0E35)", value: fmt0(baseIncome), right: true }), _jsx(Kpi, { label: "\u0E40\u0E1A\u0E35\u0E49\u0E22/\u0E1B\u0E35", value: fmt0(yearlyPremium), right: true, highlight: true })] })] }), _jsx("div", { className: "my-4 h-px bg-white/10" }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-4", children: [_jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: "\u0E40\u0E1E\u0E28" }), _jsxs("div", { className: "flex items-center gap-4", children: [_jsxs("label", { className: "inline-flex items-center gap-2 cursor-pointer", children: [_jsx("input", { type: "radio", name: `sex-${d.id}`, className: "accent-gold", checked: sex === 'male', onChange: () => onChange(d.id, { sex: 'male' }) }), _jsx("span", { children: "\u0E0A\u0E32\u0E22" })] }), _jsxs("label", { className: "inline-flex items-center gap-2 cursor-pointer", children: [_jsx("input", { type: "radio", name: `sex-${d.id}`, className: "accent-gold", checked: sex === 'female', onChange: () => onChange(d.id, { sex: 'female' }) }), _jsx("span", { children: "\u0E2B\u0E0D\u0E34\u0E07" })] })] })] }), _jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: "\u0E2D\u0E32\u0E22\u0E38" }), _jsx("input", { type: "number", min: 1, max: 80, value: age, onChange: (e) => {
                                    const v = Math.max(1, Math.min(80, Number(e.target.value)));
                                    onChange(d.id, { age: v });
                                }, className: "w-full rounded-xl bg-white/5 px-3 py-2 ring-1 ring-white/10 outline-none focus:ring-gold/60", placeholder: "\u0E40\u0E0A\u0E48\u0E19 35" })] }), _jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: "\u0E40\u0E07\u0E34\u0E19\u0E44\u0E14\u0E49 \u0E21.40(1) (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx(NumberInput, { value: baseIncome, onChange: (v) => onChange(d.id, { annualSalary: v ?? 0 }), placeholder: "2,400,000" })] }), _jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: "\u0E40\u0E1A\u0E35\u0E49\u0E22\u0E1B\u0E23\u0E30\u0E01\u0E31\u0E19 (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx(NumberInput, { value: yearlyPremium, onChange: (v) => onChange(d.id, { personalInsurancePremium: v ?? 0 }), placeholder: "\u0E40\u0E0A\u0E48\u0E19 200,000" })] })] }), _jsxs("div", { className: "mt-4 grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: "\u0E41\u0E1A\u0E1A\u0E1B\u0E23\u0E30\u0E01\u0E31\u0E19\u0E2F (\u0E23\u0E30\u0E1A\u0E1A\u0E40\u0E25\u0E37\u0E2D\u0E01)" }), _jsxs("div", { className: "rounded-xl bg-white/5 px-3 py-2 ring-1 ring-white/10", children: ["My Style Legacy Ultra (Unitlinked) \u2022 \u0E0A\u0E33\u0E23\u0E30\u0E40\u0E1A\u0E35\u0E49\u0E22 ", payYears, " \u0E1B\u0E35 \u2022 \u0E04\u0E38\u0E49\u0E21\u0E04\u0E23\u0E2D\u0E07\u0E16\u0E36\u0E07\u0E2D\u0E32\u0E22\u0E38 99 \u0E1B\u0E35"] })] }), _jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: "\u0E17\u0E38\u0E19\u0E1B\u0E23\u0E30\u0E01\u0E31\u0E19\u0E0A\u0E35\u0E27\u0E34\u0E15 (\u0E1A\u0E32\u0E17)" }), _jsx(NumberInput, { value: sumAssured, onChange: (v) => onChange(d.id, { sumAssured: v ?? 0 }), placeholder: "\u0E40\u0E0A\u0E48\u0E19 10,000,000" })] })] }), _jsxs("div", { className: "mt-4 grid grid-cols-1 md:grid-cols-4 gap-4", children: [_jsx(Field, { label: "\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E23\u0E31\u0E1A\u0E0B\u0E37\u0E49\u0E2D\u0E04\u0E37\u0E19 \u0E1B\u0E35\u0E17\u0E35\u0E48 7", children: _jsx(NumberInput, { value: surrY7, onChange: (v) => onChange(d.id, { surrenderY7: v ?? undefined }) }) }), _jsx(Field, { label: "\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E23\u0E31\u0E1A\u0E0B\u0E37\u0E49\u0E2D\u0E04\u0E37\u0E19 \u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2D\u0E32\u0E22\u0E38 60 \u0E1B\u0E35", children: _jsx(NumberInput, { value: surrAge60, onChange: (v) => onChange(d.id, { surrenderAge60: v ?? undefined }) }) }), _jsx(Field, { label: "\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E23\u0E31\u0E1A\u0E0B\u0E37\u0E49\u0E2D\u0E04\u0E37\u0E19 \u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2D\u0E32\u0E22\u0E38 70 \u0E1B\u0E35", children: _jsx(NumberInput, { value: surrAge70, onChange: (v) => onChange(d.id, { surrenderAge70: v ?? undefined }) }) }), _jsx(Field, { label: "\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E23\u0E31\u0E1A\u0E0B\u0E37\u0E49\u0E2D\u0E04\u0E37\u0E19 \u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2D\u0E32\u0E22\u0E38 99 \u0E1B\u0E35", children: _jsx(NumberInput, { value: surrAge99, onChange: (v) => onChange(d.id, { surrenderAge99: v ?? undefined }) }) })] }), _jsxs("div", { className: "mt-4 rounded-xl bg-white/[0.04] px-3 py-2 ring-1 ring-white/10 text-xs text-[color:var(--ink-dim)]", children: ["\u0E1E\u0E23\u0E35\u0E27\u0E34\u0E27: \u0E40\u0E1A\u0E35\u0E49\u0E22\u0E15\u0E25\u0E2D\u0E14\u0E2A\u0E31\u0E0D\u0E0D\u0E32 ", payYears, " \u0E1B\u0E35 = ", _jsx("span", { className: "text-[color:var(--ink)]", children: fmt0(accum7) }), ' ', "\u2022 \u0E17\u0E38\u0E19\u0E16\u0E36\u0E07\u0E2D\u0E32\u0E22\u0E38 99 \u0E1B\u0E35 = ", _jsx("span", { className: "text-[color:var(--ink)]", children: fmt0(sumAssured) })] })] }));
}
function Kpi({ label, value, right, highlight }) {
    return (_jsxs("div", { className: "rounded-xl bg-white/[0.04] px-3 py-2 ring-1 ring-white/10", children: [_jsx("div", { className: "text-[10px] leading-4 text-[color:var(--ink-dim)]", children: label }), _jsx("div", { className: ['text-sm font-medium', right ? 'text-right' : '', highlight ? 'text-gold' : ''].join(' '), children: value })] }));
}
function Field({ label, children }) {
    return (_jsxs("div", { children: [_jsx("div", { className: "text-sm text-[color:var(--ink-dim)] mb-1", children: label }), children] }));
}
