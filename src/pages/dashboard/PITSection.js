import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { pitTax, marginalRate, progressiveGrossUp } from '../../lib/tax';
import Num from '../../components/Num';
export default function PITSection({ directors, personalExpense, personalAllowance }) {
    if (directors.length === 0)
        return null;
    return (_jsxs("section", { className: "mt-6", children: [_jsx("h3", { className: "text-base md:text-lg font-semibold text-[#EBDCA6]", children: "\u0E20.\u0E07.\u0E14.91 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E1C\u0E39\u0E49\u0E1A\u0E23\u0E34\u0E2B\u0E32\u0E23\u0E23\u0E32\u0E22\u0E1A\u0E38\u0E04\u0E04\u0E25" }), _jsx("div", { className: "space-y-4", children: directors.map((it, idx) => {
                    const base = it.annualSalary ?? 0;
                    const prem = it.personalInsurancePremium ?? 0;
                    const tax1 = Math.max(0, base - personalExpense - personalAllowance);
                    const pit1 = pitTax(tax1);
                    const tax2 = Math.max(0, base + prem - personalExpense - personalAllowance);
                    const pit2 = pitTax(tax2);
                    const g3 = progressiveGrossUp(base, prem, personalExpense + personalAllowance);
                    const tax3 = Math.max(0, base + prem + g3 - personalExpense - personalAllowance);
                    const pit3 = pitTax(tax3);
                    const netY1 = base - pit1;
                    const netY2 = base - pit2;
                    const netY3 = base - pit3 + g3;
                    return (_jsxs("details", { className: "rounded-xl bg-gradient-to-b from-[#142440]/80 to-[#0B1529]/80 ring-1 ring-[#D4AF37]/20 p-3", open: idx === 0, children: [_jsxs("summary", { className: "flex items-center justify-between cursor-pointer select-none", children: [_jsx("div", { className: "text-sm", children: _jsx("span", { className: "text-[#EBDCA6] font-medium", children: it.name || `ผู้บริหาร ${idx + 1}` }) }), _jsx("div", { className: "text-xs text-[color:var(--ink-dim)]", children: "\u0E04\u0E25\u0E34\u0E01\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E14\u0E39/\u0E0B\u0E48\u0E2D\u0E19\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14" })] }), _jsx("div", { className: "overflow-x-auto mt-3", children: _jsxs("table", { className: "min-w-full text-sm table", children: [_jsx("thead", { className: "text-[color:var(--ink-dim)]", children: _jsxs("tr", { children: [_jsx("th", { className: "py-2 pr-3 text-left", children: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 (\u0E20.\u0E07.\u0E14.91)" }), _jsx("th", { className: "py-2 pr-3 text-right", children: "\u0E01\u0E48\u0E2D\u0E19\u0E40\u0E02\u0E49\u0E32\u0E23\u0E48\u0E27\u0E21\u0E42\u0E04\u0E23\u0E07\u0E01\u0E32\u0E23\u0E2F" }), _jsx("th", { className: "py-2 pr-3 text-right", children: "\u0E2B\u0E25\u0E31\u0E07\u0E2F \u0E21\u0E35\u0E04\u0E48\u0E32\u0E40\u0E1A\u0E35\u0E49\u0E22\u0E1B\u0E23\u0E30\u0E01\u0E31\u0E19\u0E0A\u0E35\u0E27\u0E34\u0E15" }), _jsx("th", { className: "py-2 pr-3 text-right", children: "\u0E2B\u0E25\u0E31\u0E07\u0E2F \u0E21\u0E35\u0E04\u0E48\u0E32\u0E40\u0E1A\u0E35\u0E49\u0E22 + \u0E04\u0E48\u0E32\u0E20\u0E32\u0E29\u0E35\u0E2A\u0E38\u0E14\u0E17\u0E49\u0E32\u0E22" })] }) }), _jsxs("tbody", { className: "align-top", children: [_jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E40\u0E07\u0E34\u0E19\u0E44\u0E14\u0E49\u0E1E\u0E36\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E21\u0E34\u0E19 \u0E21.40(1) (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: base }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: base }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: base }) })] }), _jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E04\u0E48\u0E32\u0E40\u0E1A\u0E35\u0E49\u0E22\u0E1B\u0E23\u0E30\u0E01\u0E31\u0E19\u0E2F (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: 0 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: prem }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: prem }) })] }), _jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E04\u0E48\u0E32\u0E20\u0E32\u0E29\u0E35\u0E2D\u0E2D\u0E01\u0E41\u0E17\u0E19\u0E17\u0E38\u0E01\u0E17\u0E2D\u0E14 (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: 0 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: 0 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: g3 }) })] }), _jsxs("tr", { className: "text-[#FF7B7B]", children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E2B\u0E31\u0E01 \u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22\u0E2A\u0E48\u0E27\u0E19\u0E15\u0E31\u0E27 (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: -100000 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: -100000 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: -100000 }) })] }), _jsxs("tr", { className: "text-[#FF7B7B]", children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E2B\u0E31\u0E01 \u0E04\u0E48\u0E32\u0E25\u0E14\u0E2B\u0E22\u0E48\u0E2D\u0E19\u0E2A\u0E48\u0E27\u0E19\u0E15\u0E31\u0E27 (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: -160000 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: -160000 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: -160000 }) })] }), _jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E40\u0E07\u0E34\u0E19\u0E44\u0E14\u0E49\u0E2A\u0E38\u0E17\u0E18\u0E34 (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: tax1 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: tax2 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: tax3 }) })] }), _jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E10\u0E32\u0E19\u0E20\u0E32\u0E29\u0E35" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsxs("span", { className: "block text-right", children: [(marginalRate(tax1) * 100).toFixed(0), "%"] }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsxs("span", { className: "block text-right", children: [(marginalRate(tax2) * 100).toFixed(0), "%"] }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsxs("span", { className: "block text-right", children: [(marginalRate(tax3) * 100).toFixed(0), "%"] }) })] }), _jsxs("tr", { className: "text-[#FF7B7B]", children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E20\u0E32\u0E29\u0E35\u0E1A\u0E38\u0E04\u0E04\u0E25\u0E2F (PIT) (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: pit1, forceNeg: true }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: pit2, forceNeg: true }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: pit3, forceNeg: true }) })] }), _jsxs("tr", { className: "text-gold font-bold", children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E40\u0E07\u0E34\u0E19\u0E2A\u0E38\u0E17\u0E18\u0E34\u0E01\u0E23\u0E23\u0E21\u0E01\u0E32\u0E23 (\u0E1A\u0E32\u0E17/\u0E1B\u0E35)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: netY1 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: netY2 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: netY3 }) })] }), _jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E40\u0E07\u0E34\u0E19\u0E44\u0E14\u0E49 (\u0E1A\u0E32\u0E17/\u0E40\u0E14\u0E37\u0E2D\u0E19)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: base / 12 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: base / 12 }) }), _jsx("td", { className: "py-2 \u043F\u0440-3 text-right", children: _jsx(Num, { v: base / 12 }) })] }), _jsxs("tr", { className: "text-[#FF7B7B]", children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E20.\u0E07.\u0E14.1 (\u0E1A\u0E32\u0E17/\u0E40\u0E14\u0E37\u0E2D\u0E19)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: pit1 / 12, forceNeg: true }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: pit2 / 12, forceNeg: true }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: pit3 / 12, forceNeg: true }) })] }), _jsxs("tr", { children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E20\u0E32\u0E29\u0E35\u0E2D\u0E2D\u0E01\u0E41\u0E17\u0E19\u0E17\u0E38\u0E01\u0E17\u0E2D\u0E14 (\u0E1A\u0E32\u0E17/\u0E40\u0E14\u0E37\u0E2D\u0E19)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: 0 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: 0 }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: g3 / 12 }) })] }), _jsxs("tr", { className: "text-gold font-bold", children: [_jsx("td", { className: "py-2 pr-3 text-left", children: "\u0E40\u0E07\u0E34\u0E19\u0E2A\u0E38\u0E17\u0E18\u0E34\u0E01\u0E23\u0E23\u0E21\u0E01\u0E32\u0E23 (\u0E1A\u0E32\u0E17/\u0E40\u0E14\u0E37\u0E2D\u0E19)" }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: (base / 12) - (pit1 / 12) }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: (base / 12) - (pit2 / 12) }) }), _jsx("td", { className: "py-2 pr-3 text-right", children: _jsx(Num, { v: (base / 12) - ((pit3 / 12) - (g3 / 12)) }) })] })] })] }) })] }, it.id));
                }) })] }));
}
